<!-- Document generated by "gen-doc"; DO NOT EDIT -->
<!-- eval: 'Jan 2 2006 15:04:05 -0700 MST' now-set -->
<!-- eval: 'MST' local-zone -->
	

# time

Date, time, and duration operations

| Operation                     | Description
|-------------------------------|---------------
| [`add, a, +`](#add)           | Time or duration addition
| [`date`](#date)               | Formats to a common date layout
| [`datetime, dt`](#datetime)   | Formats to a common date/time layout
| [`day-year, doy`](#day-year)  | Day of year
| [`hours`](#hours)             | Hours in duration
| [`is-datetime, is-dt`](#is-datetime) | Checks value can be parsed as a `DateTime`
| [`local-zone`](#local-zone)   | Sets the local time zone
| [`local-zone=`](#local-zone=) | Gets the local time zone
| [`minutes`](#minutes)         | Minutes in duration
| [`now`](#now)                 | Current date and time
| [`now-restore`](#now-restore) | Cancel now override
| [`now-set`](#now-set)         | Override now value
| [`seconds`](#seconds)         | Seconds in duration
| [`sub, s, -`](#sub)           | Time or duration subtraction
| [`time`](#time)               | Formats to a common time layout
| [`timezone, tz`](#timezone)   | Convert time to another time zone


## add

Adds a duration and time or adds two durations.

Aliases: `a`, `+`

```
( p0:Duration p1:Duration -- Duration )
( p0:Duration p1:DateTime -- Duration )
( p0:DateTime p1:Duration -- Duration )
```

Example:

<!-- test: add -->

| Input      | Stack
|------------|---------------
| `c 3:30pm` | `3:30pm`
| `2h add  ` | `Mon Jan 2 2006 5:30:00pm -0700 MST`
| `c 2h30m ` | `2h30m`
| `45m add ` | `3h 15m`

## date

Formats date/time *p0* to a common date layout. Time information, if any, is
removed.

```
( p0:DateTime -- Date )
```

Example:

<!-- test: date -->

| Input                      | Stack
|----------------------------|---------------
| `'2006-01-02T15:04:05 UTC` | `2006-01-02T15:04:05 UTC`
| `date                    ` | `Mon Jan 2 2006`

## datetime

Formats a date/time to a common layout.

Alias: `dt`

```
( p0:DateTime -- DateTime )
```

Example:

<!-- test: datetime -->

| Input                      | Stack
|----------------------------|---------------
| `'2006-01-02T15:04:05 UTC` | `2006-01-02T15:04:05 UTC`
| `datetime                ` | `Mon Jan 2 2006 3:04:05pm UTC`

## day-year

Day of year for a given date *p0*.

Alias: `doy`

```
( p0:DateTime -- Int )
```

Example:

<!-- test: day-year -->

| Input        | Stack
|--------------|---------------
| `2006-03-15` | `2006-03-15`
| `day-year  ` | `74`

## hours

Converts the duration *p0* into hours.

```
( p0:Duration -- Float )
```

Example:

<!-- test: hours -->

| Input           | Stack
|-----------------|---------------
| `10h20m30s    ` | `10h20m30s`
| `hours 2 round` | `10.34`

## is-datetime

Returns `true` if the value *p0* can be parsed as a DateTime.

Alias: `is-dt`

```
( p0:Str -- Bool )
```

Example:

<!-- test: is-datetime -->

| Input                        | Stack
|------------------------------|---------------
| `c [2 May 2023] is-datetime` | `true`
| `c [2 Nay 2023] is-datetime` | `false`

## local-zone

Sets the local time zone to *p0*.

```
( p0:Str --  )
```


## local-zone=

Gets the local time zone.

```
(  -- Str )
```

Example:

<!-- test: local-zone= -->

| Input         | Stack
|---------------|---------------
| `local-zone=` | `MST`

## minutes

Converts the duration *p0* into minutes.

```
( p0:Duration -- Float )
```

Example:

<!-- test: minutes -->

| Input             | Stack
|-------------------|---------------
| `10h20m30s      ` | `10h20m30s`
| `minutes 2 round` | `620.5`

## now

The current date and time. If `now-set` has been called, that date and
time will be returned instead.

```
(  -- DateTime )
```

Example:

<!-- test: now -->

| Input | Stack
|-------|---------------
| `now` | `Mon Jan 2 2006 3:04:05pm -0700 MST`

## now-restore

Cancel override of the value returned by now.

```
(  --  )
```


## now-set

Override the value returned by `now`. Useful for to mocking current time while
testing.

```
( p0:DateTime --  )
```

Example:

<!-- test: now-set -->

| Input               | Stack
|---------------------|---------------
| `'Nov 5 1955 01:22` | `Nov 5 1955 01:22`
| `now-set          ` | *now set to 'Sat Nov 5 1955 1:22:00am -0700 MST'*
| `now              ` | `Sat Nov 5 1955 1:22:00am -0700 MST`

## seconds

Converts the duration *p0* into seconds.

```
( p0:Duration -- Float )
```

Example:

<!-- test: seconds -->

| Input       | Stack
|-------------|---------------
| `10h20m30s` | `10h20m30s`
| `seconds  ` | `37230`

## sub

Subtracts a duration from a time or subtracts two durations.

Aliases: `s`, `-`

```
( p0:Duration p1:Duration -- Duration )
( p0:DateTime p1:Duration -- Duration )
( p0:DateTime p1:DateTime -- Duration )
```

Example:

<!-- test: sub -->

| Input                 | Stack
|-----------------------|---------------
| `c 3:30pm 2h sub    ` | `Mon Jan 2 2006 1:30:00pm -0700 MST`
| `c 2h30m 45m sub    ` | `1h 45m`
| `c 3:30pm 1:30pm sub` | `2h`

## time

Formats a date/time with the common time layout. Date information, if any,
is discarded.

```
( p0:DateTime -- Time )
```

Example:

<!-- test: time -->

| Input                      | Stack
|----------------------------|---------------
| `'2006-01-02T15:04:05 UTC` | `2006-01-02T15:04:05 UTC`
| `time                    ` | `3:04:05pm UTC`

## timezone

Converts time *p0* to a given time *zone*.

Alias: `tz`

```
( p0:DateTime zone:Str -- DateTime )
```

Example:

<!-- test: timezone -->

| Input               | Stack
|---------------------|---------------
| `now              ` | `Mon Jan 2 2006 3:04:05pm -0700 MST`
| `[PST] tz         ` | `Mon Jan 2 2006 2:04:05pm -0800 PST`
| `[Asia/Jakarta] tz` | `Tue Jan 3 2006 5:04:05am +0700 WIB`

<!-- Document generated by "gen-doc"; DO NOT EDIT -->

# dec

Decimal numbers

## Overview

A `Decimal` value is a real number using fixed-point math and support is
provided by the [shopspring/decimal](https://github.com/shopspring/decimal)
library. The calculator typically prefers working with fixed-point math over
floating-point math whenever an operation can use a function in this library.

Floating-point, `Rational` numbers, and numbers in other bases can be converted
to a `Decimal` using the `dec` operation:

<!-- test: decimal-convert -->

| Input               | Stack
|---------------------|-------------
| `c 1e3 dec`         | `1000`
| `c 1/2 dec`         | `0.5`
| `c 0xff dec`        | `255`

When parsing a `Decimal` number formatting characters are first removed. Those characters are:

- Thousand separators (`','`, `'_'`, `' '`)
- Currency symbols ('`$'`, `'€'`, `'¥'`)

The following values all parse to the same number:

<!-- test: parse-formatting-decimal -->

| Input               | Stack
|---------------------|-------------
| `c 12,345.67 dec`   | `12345.67`
| `c 12_345.67 dec  ` | `12345.67`
| `c '12_345.67' dec` | `12345.67`
| `c $12,345.67 dec`  | `12345.67`
| `c 12,345.67$ dec`  | `12345.67`

By default, values containing exponent notation are not parsed as a decimal.
To parse as a decimal, add a `d` suffix to the number. Example:

<!-- test: decimal-parse -->

| Input               | Stack
|---------------------|-------------
| `c 1e10 1e10 add`   | `2e10`
| `c 1e10d 1e10d add` | `20000000000`

## Index

| Operation | Description
|-----------|------------
| [`dec, decimal`](#dec) | Decimal number
| [`dec?`](#dec?) | Checks value can be parsed as a decimal number.
| [`dec-prec, decimal-prec`](#dec-prec) | Gets the precision setting
| [`dec-prec=, decimal-prec=`](#dec-prec=) | Sets the precision setting

## Operations

### dec

Converts *x* into a decimal number.

Alias: `decimal`

```
( x:Decimal -- x:Decimal )
( x:Float -- x:Decimal )
( a:Rational -- a:Decimal )
```

Example:

<!-- test: dec -->

| Input | Stack
|-------|------
| `c 1e3 dec` | `1000`
| `c 1/2 dec` | `0.5`
| `c 0xff dec` | `255`

### dec?

Places `true` on the stack if *x* can be parsed as a decimal number,
otherwise places `false`. A value with an exponent, such as *1e1*, is
not parsed as a Decimal by default. Add a suffix of `d` to parse as
a Decimal

```
( x:Val -- x:Bool )
```

Example:

<!-- test: dec? -->

| Input | Stack
|-------|------
| `c 1 dec?` | `true`
| `c 1.1 dec?` | `true`
| `c 1e1 dec?` | `false`
| `c 1e1d dec?` | `true`

### dec-prec

Places the current precision setting on the stack. This is the number
of digits after the decimal point that will be used in inexact or
rounding operations when an explicit precision is not specified.

Alias: `decimal-prec`

```
(  -- Int )
```

Example:

<!-- test: dec-prec -->

| Input | Stack
|-------|------
| `dec-prec` | `16`

### dec-prec=

Sets the current precision setting to *x*. This is the number of digits
after the decimal point that will be used in inexact or rounding operations
when an explicit precision is not specified. If *x* is less than zero,
an 'invalid argument' error will be raised.

Alias: `decimal-prec=`

```
( x:Int --  )
```

Example:

<!-- test: dec-prec= -->

| Input | Stack
|-------|------
| `8 dec-prec=` | *decimal precision set to 8*

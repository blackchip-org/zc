native at
native reverse
native n

func clear //a
    nothing

func drop /a
    nothing

func down //a
    head; /-a
    tail; //a
    /head //tail

func dup /a
    /a /a

func swap /a /b
    /b /a

func take //a /n
    len; //a n
    if /n /len gt
        'stack does not contain `n` elements to take' abort
    while /n 0 gt
        /-a
        n; 1 sub
    reverse

func top //a
    /a

func up //a
    n; //a n
    tail; //a n 1 sub take
    head; //a 0 at
    //tail /head

macro empty n 0 eq

alias c clear
alias dn down
alias rev reverse
alias sw swap
